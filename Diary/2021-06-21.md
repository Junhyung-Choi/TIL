# 2021-06-21

- What I learned:
  - OS
    - Interprocess Communication - Message Passing
      - Mechanism for processes to communicate and to synchronize their actions
      - Message system - processes communicate with each other without resorting to shared variables
      - IPC facility provides two operations
        - send(message) - message size fixed or variable
        - receive(message)
      - If P and Q wish to communicate, they need to:
        - establish a communication link between them
        - exchange messages via send/receive
      - Implementaion of communication link
        - physical
        - logical
    - Implementation Questions
    - Direct Communication
    - Indirect Communication
      - Messages are directed and received from mailboxes(also referred to as ports)
        - Each mailbox has a unique id
        - Processes can communicate only if they share a mailbox
    - Synchornization
      - Message passing my be either blocking or non-blocking
        - Blocking is considered synchronous
        - Non-blocking is considered asynchronous
    - Buffering
      - Queue of messages attached to the link; implemented in one of three ways
        - Zero capacity
        - Bounded capacity
        - Unbounded capacity
    - Examples of IPC Systems - POSIX
      - Posix Shared Memory
        - Process first creates shared memory segment
        - Also used to open an existing segment to share it
        - Set the size of the object
        - Now the process could write to the shared memory
    - Examples of IPC Systems - Mach
      - Mach communication is message based
        - Even system calls are messages
        - Each task gets two mailboxes at creation - Kernel and Notify
        - Only three system calls needed for message transfer
          - msg_send(), mesg_receive(), msg_rpc()
        - Mailboxes needed for communication, created via port_allocate()
        - Send and receive are flexible, for example four options if mailbox full
          - Wait indefinitely
          - Wait at most n milliseconds
          - Return immdediately
          - Temporarily cache a message
    - Communications in Client-Server Systems
      - Sockets
      - Remote Procedure Calls
        - Remote procedure call abstracts procedure calls between processes on networked systems
          - Again uses ports for service differentiation
        - **Stubs** - clinet-side proxy for the actual procedure on the server
        - The client-side stub locates the server and marshalls the parameters
        - The server-side stub receives this message, unpacks the marshalled parameters, and performs the procedure on the server
        - Data representation handled via External Data Representaion(XDL) format to account for different architectures
          - Big-endian and Little-endian
        - Remote communication has more failure scenarios than local
          - Messages can be delivered exactly once rather than at most once
        - OS typically provides a rendezvous(or matchmaker) service to connect client and server
      - Pipes
        - Acts as a conduit allowing two processes to communicate
          - Ordinary Pipes
            - allow communication in standard producer-consumer style
            - Producer write to one end / Consumer reads from the other end
            - unidrectional
            - Require parent-child relationship between communicating processes
            - Anonymous pipes
          - Named Pipes
            - FIFO
            - they appeared as typical files in the file system
            - A FIFO is created with the mkfifo() system call and manipulated with ordinary open(),read(),write(), and close() system call
            - Communication is bidirectional but half duplex
- What was interesting:
  - Played Starcraft 2
- What I regret: 
  - Too much